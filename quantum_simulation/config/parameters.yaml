# ============================================================
# CONSTANTES PHYSIQUES FONDAMENTALES
# Sources : [file:1, Chapitre I, § A-1]
# ============================================================
physical_constants:
  h: 6.62607015e-34              # Constante de Planck (J·s)
  hbar: 1.054571817e-34          # ℏ = h/(2π) (J·s)
  c: 299792458.0                 # Vitesse de la lumière (m/s)
  m_electron: 9.1093837015e-31   # Masse électron (kg)
  m_proton: 1.67262192369e-27    # Masse proton (kg)
  e_charge: 1.602176634e-19      # Charge élémentaire (C)
  epsilon_0: 8.8541878128e-12    # Permittivité du vide (F/m)

# ============================================================
# PARAMÈTRES NUMÉRIQUES GÉNÉRAUX
# ============================================================
numerical_parameters:
  spatial_discretization:
    dimension: 1                    # 1D, 2D ou 3D
    grid_type: "uniform"            # Type de grille
    nx: 2048                        # Nombre de points (direction x)
    ny: null                        # Nombre de points (direction y)
    nz: null                        # Nombre de points (direction z)
    x_min: -5.0e-9                  # ✅ Grille centrée pour gaussienne
    x_max: 5.0e-9                   # ✅ Couvre ±5σ avec σ=2e-9
    # Idem pour y, z si dimension > 1
    
  temporal_discretization:
    dt: 1.0e-17                     # Pas de temps (s)
    t_initial: 0.0
    t_final: 5.0e-15
    
  tolerances:
    normalization_check: 1.0e-10    # Pour vérifier ⟨ψ|ψ⟩ ≈ 1
    hermiticity_check: 1.0e-10      # Pour vérifier A† = A
    orthonormality_check: 1.0e-8    # Pour bases
    conservation_probability: 1.0e-8 # Conservation norme
    heisenberg_inequality: 1.0e-10  # Tolérance validation ΔX·ΔP ≥ ℏ/2

# ============================================================
# PARAMÈTRES SPÉCIFIQUES AUX SYSTÈMES
# ============================================================
systems:
  free_particle:
    mass: 9.1093837015e-31      # Masse électron (kg)
    
  harmonic_oscillator:
    mass: 9.1093837015e-31
    omega: 1.0e15                # Pulsation ω (rad/s)
    n_max_fock: 50               # Troncature base de Fock {|n⟩}
    
  potential_systems:
    infinite_well:
      width: 1.0e-9              # Largeur puits (m)
      mass: 9.1093837015e-31     # Masse particule (kg)
    
    finite_well:
      width: 2.0e-9              # Largeur puits (m)
      depth: 1.0e-18             # Profondeur V₀ (J) ~6 eV
      mass: 9.1093837015e-31
    
    barrier:
      width: 1.0e-9              # Largeur barrière (m)
      height: 5.0e-19            # Hauteur V₀ (J) ~3 eV
      mass: 9.1093837015e-31

# ============================================================
# CONFIGURATION DES EXPÉRIENCES
# ============================================================
experiments:
  wavepacket_evolution:
    initial_state:
      type: "gaussian"
      x0: 0.0                    # Position initiale (m)
      sigma_x: 2.0e-9           # Largeur gaussienne (m)
      k0: 5.0e9                 # Nombre d'onde central (m^-1)
    system:
      mass: 9.1093837015e-31    # Masse électron (kg)
    evolution:
      t_initial: 0.0            # Temps initial (s)
      t_final: 5.0e-15         # Temps final (s)
      dt: 1.0e-17               # Pas temporel (s)
      times_sample: [0.0, 1.0e-15, 2.0e-15, 3.0e-15, 4.0e-15, 5.0e-15]  # Temps échantillonnage
    
  measurement_statistics:
    observable_to_measure: "position"  # "position", "momentum", "energy"
    n_measurements: 1000               # Nombre de mesures pour statistiques
    system_type: "free_particle"       # "free_particle" ou "infinite_well"
    
    # Configuration spatiale locale (surcharge config globale)
    spatial_grid:
      nx: 2048                         # Plus dense pour précision
      x_min: -5.0e-9                   # ✅ Grille centrée
      x_max: 5.0e-9                    # ✅ Couvre ±5σ

    initial_state:
      type: "gaussian"
      x0: 0.0                          # Centré sur grille
      sigma_x: 1.0e-9                  # Largeur réduite pour tenir dans grille
      k0: 5.0e9                        # Impulsion moyenne
    
    successive_measurements:
      enabled: true                    # Tester réduction paquet
      n_repetitions: 5                 # Nombre séquences test
      
  heisenberg_validation:
    observables: ["position", "momentum"]
    test_states: []                    # Liste d'états à tester

# ============================================================
# VISUALISATION
# ============================================================
visualization:
  plot_wavefunction: true
  plot_probability_density: true
  plot_current_density: false
  create_animation: false        # true pour créer GIF (plus lent)
  save_figures: true
  output_directory: "./results/"
  dpi: 150